<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/flitbit/diff#readme">deep-diff (v0.3.4)</a>
</h1>
<h4>Javascript utility for calculating deep difference, capturing changes, and applying changes across objects; for nodejs and the browser.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.deep-diff">module deep-diff</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.deep-diff">
            function <span class="apidocSignatureSpan"></span>deep-diff
            <span class="apidocSignatureSpan">(lhs, rhs, prefilter, accum)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.applyChange">
            function <span class="apidocSignatureSpan">deep-diff.</span>applyChange
            <span class="apidocSignatureSpan">(target, source, change)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.applyDiff">
            function <span class="apidocSignatureSpan">deep-diff.</span>applyDiff
            <span class="apidocSignatureSpan">(target, source, filter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.diff">
            function <span class="apidocSignatureSpan">deep-diff.</span>diff
            <span class="apidocSignatureSpan">(lhs, rhs, prefilter, accum)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.isConflict">
            function <span class="apidocSignatureSpan">deep-diff.</span>isConflict
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.noConflict">
            function <span class="apidocSignatureSpan">deep-diff.</span>noConflict
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.observableDiff">
            function <span class="apidocSignatureSpan">deep-diff.</span>observableDiff
            <span class="apidocSignatureSpan">(lhs, rhs, changes, prefilter, path, key, stack)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.revertChange">
            function <span class="apidocSignatureSpan">deep-diff.</span>revertChange
            <span class="apidocSignatureSpan">(target, source, change)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.toString">
            function <span class="apidocSignatureSpan">deep-diff.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.deep-diff.applyChange">module deep-diff.applyChange</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.applyChange.applyChange">
            function <span class="apidocSignatureSpan">deep-diff.</span>applyChange
            <span class="apidocSignatureSpan">(target, source, change)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.deep-diff.applyDiff">module deep-diff.applyDiff</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.applyDiff.applyDiff">
            function <span class="apidocSignatureSpan">deep-diff.</span>applyDiff
            <span class="apidocSignatureSpan">(target, source, filter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.deep-diff.isConflict">module deep-diff.isConflict</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.isConflict.isConflict">
            function <span class="apidocSignatureSpan">deep-diff.</span>isConflict
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.deep-diff.noConflict">module deep-diff.noConflict</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.noConflict.noConflict">
            function <span class="apidocSignatureSpan">deep-diff.</span>noConflict
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.deep-diff.observableDiff">module deep-diff.observableDiff</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.observableDiff.observableDiff">
            function <span class="apidocSignatureSpan">deep-diff.</span>observableDiff
            <span class="apidocSignatureSpan">(lhs, rhs, changes, prefilter, path, key, stack)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.deep-diff.revertChange">module deep-diff.revertChange</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.revertChange.revertChange">
            function <span class="apidocSignatureSpan">deep-diff.</span>revertChange
            <span class="apidocSignatureSpan">(target, source, change)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.deep-diff.toString">module deep-diff.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.deep-diff.toString.toString">
            function <span class="apidocSignatureSpan">deep-diff.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.deep-diff" id="apidoc.module.deep-diff">module deep-diff</a></h1>


    <h2>
        <a href="#apidoc.element.deep-diff.deep-diff" id="apidoc.element.deep-diff.deep-diff">
        function <span class="apidocSignatureSpan"></span>deep-diff
        <span class="apidocSignatureSpan">(lhs, rhs, prefilter, accum)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function accumulateDiff(lhs, rhs, prefilter, accum) {
  accum = accum || [];
  deepDiff(lhs, rhs,
    function(diff) {
      if (diff) {
        accum.push(diff);
      }
    },
    prefilter);
  return (accum.length) ? accum : undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.deep-diff.applyChange" id="apidoc.element.deep-diff.applyChange">
        function <span class="apidocSignatureSpan">deep-diff.</span>applyChange
        <span class="apidocSignatureSpan">(target, source, change)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function applyChange(target, source, change) {
  if (target &amp;&amp; source &amp;&amp; change &amp;&amp; change.kind) {
    var it = target,
        i = -1,
        last = change.path ? change.path.length - 1 : 0;
    while (++i &lt; last) {
      if (typeof it[change.path[i]] === 'undefined') {
        it[change.path[i]] = (typeof change.path[i] === 'number') ? [] : {};
      }
      it = it[change.path[i]];
    }
    switch (change.kind) {
      case 'A':
        applyArrayChange(change.path ? it[change.path[i]] : it, change.index, change.item);
        break;
      case 'D':
        delete it[change.path[i]];
        break;
      case 'E':
      case 'N':
        it[change.path[i]] = change.rhs;
        break;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.deep-diff.applyDiff" id="apidoc.element.deep-diff.applyDiff">
        function <span class="apidocSignatureSpan">deep-diff.</span>applyDiff
        <span class="apidocSignatureSpan">(target, source, filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function applyDiff(target, source, filter) {
  if (target &amp;&amp; source) {
    var onChange = function(change) {
      if (!filter || filter(target, source, change)) {
        applyChange(target, source, change);
      }
    };
    deepDiff(target, source, onChange);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.deep-diff.diff" id="apidoc.element.deep-diff.diff">
        function <span class="apidocSignatureSpan">deep-diff.</span>diff
        <span class="apidocSignatureSpan">(lhs, rhs, prefilter, accum)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function accumulateDiff(lhs, rhs, prefilter, accum) {
  accum = accum || [];
  deepDiff(lhs, rhs,
    function(diff) {
      if (diff) {
        accum.push(diff);
      }
    },
    prefilter);
  return (accum.length) ? accum : undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.deep-diff.isConflict" id="apidoc.element.deep-diff.isConflict">
        function <span class="apidocSignatureSpan">deep-diff.</span>isConflict
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConflict = function () {
  return 'undefined' !== typeof conflict;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.deep-diff.noConflict" id="apidoc.element.deep-diff.noConflict">
        function <span class="apidocSignatureSpan">deep-diff.</span>noConflict
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">noConflict = function () {
  if (conflictResolution) {
    conflictResolution.forEach(function(it) {
      it();
    });
    conflictResolution = null;
  }
  return accumulateDiff;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

**browser**
```html
&lt;script src="deep-diff-0.3.1.min.js"&gt;&lt;/script&gt;
```
&gt; Minified, browser release of the current version of the module is under the `releases` folder.
&gt; In a browser, `deep-diff` defines a global variable `DeepDiff`. If there is a conflict in the global namesapce you can restore
 the conflicting definition and assign `deep-diff` to another variable like this: `var deep = DeepDiff.<span class="apidocCodeKeywordSpan
">noConflict</span>();`.

## Simple Examples

In order to describe differences, change revolves around an `origin` object. For consistency, the `origin` object is always the
operand on the `left-hand-side` of operations. The `comparand`, which may contain changes, is always on the `right-hand-side` of
 operations.

``` javascript
var diff = require('deep-diff').diff;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.deep-diff.observableDiff" id="apidoc.element.deep-diff.observableDiff">
        function <span class="apidocSignatureSpan">deep-diff.</span>observableDiff
        <span class="apidocSignatureSpan">(lhs, rhs, changes, prefilter, path, key, stack)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function deepDiff(lhs, rhs, changes, prefilter, path, key, stack) {
  path = path || [];
  var currentPath = path.slice(0);
  if (typeof key !== 'undefined') {
    if (prefilter) {
      if (typeof(prefilter) === 'function' &amp;&amp; prefilter(currentPath, key)) { return; }
      else if (typeof(prefilter) === 'object') {
        if (prefilter.prefilter &amp;&amp; prefilter.prefilter(currentPath, key)) { return; }
        if (prefilter.normalize) {
          var alt = prefilter.normalize(currentPath, key, lhs, rhs);
          if (alt) {
            lhs = alt[0];
            rhs = alt[1];
          }
        }
      }
    }
    currentPath.push(key);
  }

  // Use string comparison for regexes
  if (realTypeOf(lhs) === 'regexp' &amp;&amp; realTypeOf(rhs) === 'regexp') {
    lhs = lhs.toString();
    rhs = rhs.toString();
  }

  var ltype = typeof lhs;
  var rtype = typeof rhs;
  if (ltype === 'undefined') {
    if (rtype !== 'undefined') {
      changes(new DiffNew(currentPath, rhs));
    }
  } else if (rtype === 'undefined') {
    changes(new DiffDeleted(currentPath, lhs));
  } else if (realTypeOf(lhs) !== realTypeOf(rhs)) {
    changes(new DiffEdit(currentPath, lhs, rhs));
  } else if (Object.prototype.toString.call(lhs) === '[object Date]' &amp;&amp; Object.prototype.toString.call(rhs) === '[object Date]' &amp;&amp; ((
lhs - rhs) !== 0)) {
    changes(new DiffEdit(currentPath, lhs, rhs));
  } else if (ltype === 'object' &amp;&amp; lhs !== null &amp;&amp; rhs !== null) {
    stack = stack || [];
    if (stack.indexOf(lhs) &lt; 0) {
      stack.push(lhs);
      if (Array.isArray(lhs)) {
        var i, len = lhs.length;
        for (i = 0; i &lt; lhs.length; i++) {
          if (i &gt;= rhs.length) {
            changes(new DiffArray(currentPath, i, new DiffDeleted(undefined, lhs[i])));
          } else {
            deepDiff(lhs[i], rhs[i], changes, prefilter, currentPath, i, stack);
          }
        }
        while (i &lt; rhs.length) {
          changes(new DiffArray(currentPath, i, new DiffNew(undefined, rhs[i++])));
        }
      } else {
        var akeys = Object.keys(lhs);
        var pkeys = Object.keys(rhs);
        akeys.forEach(function(k, i) {
          var other = pkeys.indexOf(k);
          if (other &gt;= 0) {
            deepDiff(lhs[k], rhs[k], changes, prefilter, currentPath, k, stack);
            pkeys = arrayRemove(pkeys, other);
          } else {
            deepDiff(lhs[k], undefined, changes, prefilter, currentPath, k, stack);
          }
        });
        pkeys.forEach(function(k) {
          deepDiff(undefined, rhs[k], changes, prefilter, currentPath, k, stack);
        });
      }
      stack.length = stack.length - 1;
    }
  } else if (lhs !== rhs) {
    if (!(ltype === 'number' &amp;&amp; isNaN(lhs) &amp;&amp; isNaN(rhs))) {
      changes(new DiffEdit(currentPath, lhs, rhs));
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.deep-diff.revertChange" id="apidoc.element.deep-diff.revertChange">
        function <span class="apidocSignatureSpan">deep-diff.</span>revertChange
        <span class="apidocSignatureSpan">(target, source, change)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function revertChange(target, source, change) {
  if (target &amp;&amp; source &amp;&amp; change &amp;&amp; change.kind) {
    var it = target,
        i, u;
    u = change.path.length - 1;
    for (i = 0; i &lt; u; i++) {
      if (typeof it[change.path[i]] === 'undefined') {
        it[change.path[i]] = {};
      }
      it = it[change.path[i]];
    }
    switch (change.kind) {
      case 'A':
        // Array was modified...
        // it will be an array...
        revertArrayChange(it[change.path[i]], change.index, change.item);
        break;
      case 'D':
        // Item was deleted...
        it[change.path[i]] = change.lhs;
        break;
      case 'E':
        // Item was edited...
        it[change.path[i]] = change.lhs;
        break;
      case 'N':
        // Item is new...
        delete it[change.path[i]];
        break;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.deep-diff.toString" id="apidoc.element.deep-diff.toString">
        function <span class="apidocSignatureSpan">deep-diff.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return 'math';
  } else if (subject === null) {
    return 'null';
  } else if (Array.isArray(subject)) {
    return 'array';
  } else if (Object.prototype.toString.call(subject) === '[object Date]') {
    return 'date';
  } else if (typeof subject.toString !== 'undefined' &amp;&amp; /^\/.*\//.test(subject.<span class="apidocCodeKeywordSpan
">toString</span>())) {
    return 'regexp';
  }
  return 'object';
}

function deepDiff(lhs, rhs, changes, prefilter, path, key, stack) {
  path = path || [];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.deep-diff.applyChange" id="apidoc.module.deep-diff.applyChange">module deep-diff.applyChange</a></h1>


    <h2>
        <a href="#apidoc.element.deep-diff.applyChange.applyChange" id="apidoc.element.deep-diff.applyChange.applyChange">
        function <span class="apidocSignatureSpan">deep-diff.</span>applyChange
        <span class="apidocSignatureSpan">(target, source, change)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function applyChange(target, source, change) {
  if (target &amp;&amp; source &amp;&amp; change &amp;&amp; change.kind) {
    var it = target,
        i = -1,
        last = change.path ? change.path.length - 1 : 0;
    while (++i &lt; last) {
      if (typeof it[change.path[i]] === 'undefined') {
        it[change.path[i]] = (typeof change.path[i] === 'number') ? [] : {};
      }
      it = it[change.path[i]];
    }
    switch (change.kind) {
      case 'A':
        applyArrayChange(change.path ? it[change.path[i]] : it, change.index, change.item);
        break;
      case 'D':
        delete it[change.path[i]];
        break;
      case 'E':
      case 'N':
        it[change.path[i]] = change.rhs;
        break;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.deep-diff.applyDiff" id="apidoc.module.deep-diff.applyDiff">module deep-diff.applyDiff</a></h1>


    <h2>
        <a href="#apidoc.element.deep-diff.applyDiff.applyDiff" id="apidoc.element.deep-diff.applyDiff.applyDiff">
        function <span class="apidocSignatureSpan">deep-diff.</span>applyDiff
        <span class="apidocSignatureSpan">(target, source, filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function applyDiff(target, source, filter) {
  if (target &amp;&amp; source) {
    var onChange = function(change) {
      if (!filter || filter(target, source, change)) {
        applyChange(target, source, change);
      }
    };
    deepDiff(target, source, onChange);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.deep-diff.isConflict" id="apidoc.module.deep-diff.isConflict">module deep-diff.isConflict</a></h1>


    <h2>
        <a href="#apidoc.element.deep-diff.isConflict.isConflict" id="apidoc.element.deep-diff.isConflict.isConflict">
        function <span class="apidocSignatureSpan">deep-diff.</span>isConflict
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConflict = function () {
  return 'undefined' !== typeof conflict;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.deep-diff.noConflict" id="apidoc.module.deep-diff.noConflict">module deep-diff.noConflict</a></h1>


    <h2>
        <a href="#apidoc.element.deep-diff.noConflict.noConflict" id="apidoc.element.deep-diff.noConflict.noConflict">
        function <span class="apidocSignatureSpan">deep-diff.</span>noConflict
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">noConflict = function () {
  if (conflictResolution) {
    conflictResolution.forEach(function(it) {
      it();
    });
    conflictResolution = null;
  }
  return accumulateDiff;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

**browser**
```html
&lt;script src="deep-diff-0.3.1.min.js"&gt;&lt;/script&gt;
```
&gt; Minified, browser release of the current version of the module is under the `releases` folder.
&gt; In a browser, `deep-diff` defines a global variable `DeepDiff`. If there is a conflict in the global namesapce you can restore
 the conflicting definition and assign `deep-diff` to another variable like this: `var deep = DeepDiff.<span class="apidocCodeKeywordSpan
">noConflict</span>();`.

## Simple Examples

In order to describe differences, change revolves around an `origin` object. For consistency, the `origin` object is always the
operand on the `left-hand-side` of operations. The `comparand`, which may contain changes, is always on the `right-hand-side` of
 operations.

``` javascript
var diff = require('deep-diff').diff;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.deep-diff.observableDiff" id="apidoc.module.deep-diff.observableDiff">module deep-diff.observableDiff</a></h1>


    <h2>
        <a href="#apidoc.element.deep-diff.observableDiff.observableDiff" id="apidoc.element.deep-diff.observableDiff.observableDiff">
        function <span class="apidocSignatureSpan">deep-diff.</span>observableDiff
        <span class="apidocSignatureSpan">(lhs, rhs, changes, prefilter, path, key, stack)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function deepDiff(lhs, rhs, changes, prefilter, path, key, stack) {
  path = path || [];
  var currentPath = path.slice(0);
  if (typeof key !== 'undefined') {
    if (prefilter) {
      if (typeof(prefilter) === 'function' &amp;&amp; prefilter(currentPath, key)) { return; }
      else if (typeof(prefilter) === 'object') {
        if (prefilter.prefilter &amp;&amp; prefilter.prefilter(currentPath, key)) { return; }
        if (prefilter.normalize) {
          var alt = prefilter.normalize(currentPath, key, lhs, rhs);
          if (alt) {
            lhs = alt[0];
            rhs = alt[1];
          }
        }
      }
    }
    currentPath.push(key);
  }

  // Use string comparison for regexes
  if (realTypeOf(lhs) === 'regexp' &amp;&amp; realTypeOf(rhs) === 'regexp') {
    lhs = lhs.toString();
    rhs = rhs.toString();
  }

  var ltype = typeof lhs;
  var rtype = typeof rhs;
  if (ltype === 'undefined') {
    if (rtype !== 'undefined') {
      changes(new DiffNew(currentPath, rhs));
    }
  } else if (rtype === 'undefined') {
    changes(new DiffDeleted(currentPath, lhs));
  } else if (realTypeOf(lhs) !== realTypeOf(rhs)) {
    changes(new DiffEdit(currentPath, lhs, rhs));
  } else if (Object.prototype.toString.call(lhs) === '[object Date]' &amp;&amp; Object.prototype.toString.call(rhs) === '[object Date]' &amp;&amp; ((
lhs - rhs) !== 0)) {
    changes(new DiffEdit(currentPath, lhs, rhs));
  } else if (ltype === 'object' &amp;&amp; lhs !== null &amp;&amp; rhs !== null) {
    stack = stack || [];
    if (stack.indexOf(lhs) &lt; 0) {
      stack.push(lhs);
      if (Array.isArray(lhs)) {
        var i, len = lhs.length;
        for (i = 0; i &lt; lhs.length; i++) {
          if (i &gt;= rhs.length) {
            changes(new DiffArray(currentPath, i, new DiffDeleted(undefined, lhs[i])));
          } else {
            deepDiff(lhs[i], rhs[i], changes, prefilter, currentPath, i, stack);
          }
        }
        while (i &lt; rhs.length) {
          changes(new DiffArray(currentPath, i, new DiffNew(undefined, rhs[i++])));
        }
      } else {
        var akeys = Object.keys(lhs);
        var pkeys = Object.keys(rhs);
        akeys.forEach(function(k, i) {
          var other = pkeys.indexOf(k);
          if (other &gt;= 0) {
            deepDiff(lhs[k], rhs[k], changes, prefilter, currentPath, k, stack);
            pkeys = arrayRemove(pkeys, other);
          } else {
            deepDiff(lhs[k], undefined, changes, prefilter, currentPath, k, stack);
          }
        });
        pkeys.forEach(function(k) {
          deepDiff(undefined, rhs[k], changes, prefilter, currentPath, k, stack);
        });
      }
      stack.length = stack.length - 1;
    }
  } else if (lhs !== rhs) {
    if (!(ltype === 'number' &amp;&amp; isNaN(lhs) &amp;&amp; isNaN(rhs))) {
      changes(new DiffEdit(currentPath, lhs, rhs));
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.deep-diff.revertChange" id="apidoc.module.deep-diff.revertChange">module deep-diff.revertChange</a></h1>


    <h2>
        <a href="#apidoc.element.deep-diff.revertChange.revertChange" id="apidoc.element.deep-diff.revertChange.revertChange">
        function <span class="apidocSignatureSpan">deep-diff.</span>revertChange
        <span class="apidocSignatureSpan">(target, source, change)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function revertChange(target, source, change) {
  if (target &amp;&amp; source &amp;&amp; change &amp;&amp; change.kind) {
    var it = target,
        i, u;
    u = change.path.length - 1;
    for (i = 0; i &lt; u; i++) {
      if (typeof it[change.path[i]] === 'undefined') {
        it[change.path[i]] = {};
      }
      it = it[change.path[i]];
    }
    switch (change.kind) {
      case 'A':
        // Array was modified...
        // it will be an array...
        revertArrayChange(it[change.path[i]], change.index, change.item);
        break;
      case 'D':
        // Item was deleted...
        it[change.path[i]] = change.lhs;
        break;
      case 'E':
        // Item was edited...
        it[change.path[i]] = change.lhs;
        break;
      case 'N':
        // Item is new...
        delete it[change.path[i]];
        break;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.deep-diff.toString" id="apidoc.module.deep-diff.toString">module deep-diff.toString</a></h1>


    <h2>
        <a href="#apidoc.element.deep-diff.toString.toString" id="apidoc.element.deep-diff.toString.toString">
        function <span class="apidocSignatureSpan">deep-diff.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return 'math';
  } else if (subject === null) {
    return 'null';
  } else if (Array.isArray(subject)) {
    return 'array';
  } else if (Object.prototype.toString.call(subject) === '[object Date]') {
    return 'date';
  } else if (typeof subject.toString !== 'undefined' &amp;&amp; /^\/.*\//.test(subject.<span class="apidocCodeKeywordSpan
">toString</span>())) {
    return 'regexp';
  }
  return 'object';
}

function deepDiff(lhs, rhs, changes, prefilter, path, key, stack) {
  path = path || [];
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>